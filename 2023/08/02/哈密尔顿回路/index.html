<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>哈密尔顿回路 | 空城的贼窝</title><meta name="keywords" content="算法,图论"><meta name="author" content="空城,gli466731@gmail.com"><meta name="copyright" content="空城"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、问题描述哈密顿回路 哈密顿回路是指在一个无向图中, 存在一条回路，使得该回路恰好经过图中每个顶点一次。如果该回路的起点和终点相同，则称该回路为哈密顿圈。哈密顿回路是一类特殊的欧拉回路，欧拉回路要求经过每一条边恰好一次，而哈密顿回路要求经过每个顶点恰好一次。 假如有一个图有N个节点，分别是：0，1，2…，N-1，其中N&gt;0。整数数组 edges ，其中 edges[i] &#x3D; [">
<meta property="og:type" content="article">
<meta property="og:title" content="哈密尔顿回路">
<meta property="og:url" content="http://example.com/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/index.html">
<meta property="og:site_name" content="空城的贼窝">
<meta property="og:description" content="一、问题描述哈密顿回路 哈密顿回路是指在一个无向图中, 存在一条回路，使得该回路恰好经过图中每个顶点一次。如果该回路的起点和终点相同，则称该回路为哈密顿圈。哈密顿回路是一类特殊的欧拉回路，欧拉回路要求经过每一条边恰好一次，而哈密顿回路要求经过每个顶点恰好一次。 假如有一个图有N个节点，分别是：0，1，2…，N-1，其中N&gt;0。整数数组 edges ，其中 edges[i] &#x3D; [">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/1.gif">
<meta property="article:published_time" content="2023-08-02T07:54:39.000Z">
<meta property="article:modified_time" content="2023-08-02T08:25:07.189Z">
<meta property="article:author" content="空城">
<meta property="article:tag" content="算法">
<meta property="article:tag" content="图论">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/1.gif"><link rel="shortcut icon" href="/img/1.gif"><link rel="canonical" href="http://example.com/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '哈密尔顿回路',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-02 16:25:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/1.gif')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">空城的贼窝</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">哈密尔顿回路</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-02T07:54:39.000Z" title="发表于 2023-08-02 15:54:39">2023-08-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-02T08:25:07.189Z" title="更新于 2023-08-02 16:25:07">2023-08-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="哈密尔顿回路"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><hr>
<h2 id="一、问题描述"><a href="#一、问题描述" class="headerlink" title="一、问题描述"></a><strong>一</strong>、问题描述</h2><p>哈密顿回路</p>
<p>哈密顿回路是指在一个无向图中, 存在一条回路，使得该回路恰好经过图中每个顶点一次。如果该回路的起点和终点相同，则称该回路为哈密顿圈。哈密顿回路是一类特殊的欧拉回路，欧拉回路要求经过每一条边恰好一次，而哈密顿回路要求经过每个顶点恰好一次。</p>
<p>假如有一个图有N个节点，分别是：0，1，2…，N-1，其中N&gt;0。整数数组 edges ，其中 edges[i] &#x3D; [ai, bi] 表示节点 ai 和 bi 之间有一条边。</p>
<p>需要在图中寻找到一条哈密顿回路，若没有则返回一个空数组</p>
<h2 id="二、回溯算法"><a href="#二、回溯算法" class="headerlink" title="二、回溯算法"></a>二、<strong>回溯算法</strong></h2><h3 id="2-1-回溯规则介绍"><a href="#2-1-回溯规则介绍" class="headerlink" title="2.1 回溯规则介绍"></a><strong>2.1 回溯规则介绍</strong></h3><p>回溯（Backtracking）属于优化算法的一种，通常用于解决组合、排列、子集、棋盘等问题。回溯算法通过穷举所有可能的解，并在搜索过程中剪枝，以缩短搜索时间，找到满足条件的解。回溯算法的核心思想是深度优先搜索（DFS）。回溯搜索通过选择一条可能的路径，进入下一层搜索，如果发现该路径不可行，则回溯到上一层，选择另一条可能的路径，一直搜索到找到解或者所有可能的路径都被搜索完。</p>
<p>常见的回溯算法有N皇后问题、单词搜索、组合求和等。回溯算法的时间复杂度通常是指数级别的，因为它需要穷举所有可能的解。但是通过剪枝等优化方法，可以在可能更短的时间内找到最优解或者满足条件的解。</p>
<p>分为优化算法和启发式算法两个部分。包含算法的设计思路、算法设计流程图、代码以及必要的文字说明和注释。</p>
<h3 id="2-2-回溯模型的建立"><a href="#2-2-回溯模型的建立" class="headerlink" title="2.2 回溯模型的建立"></a><strong>2.2 回溯模型的建立</strong></h3><p>对于本问题，寻找哈密顿回路问题，即寻找到一条经过每一个节点，且每个节点只经过一次的回路。</p>
<div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps1.jpg"> </div>
<center>(图1)</center>


<p>接下来以图 1 为例：</p>
<p><strong>①</strong>　<em><strong>*定义解空间*</strong></em></p>
<p>随机选取一个节点，作为起始点，通过对该点的邻接点作为后续遍历节点，通过深度优先搜索进行搜素</p>
<p><strong>②</strong>　<em><strong>*搜索空间*</strong></em></p>
<p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps2.jpg" alt="img"> </p>
<p>对于每一层解空间的大小，都取决与上一个节点的临界点个数</p>
<p><strong>③</strong>　<em><strong>*剪枝策略*</strong></em></p>
<p>\1. 若该节点在之前已经遍历了，剪去</p>
<p>\2. 若该节点是起始节点，则判断是否已经遍历全部节点，若是，则将遍历结果加入结果集中，若没有则剪去</p>
<h3 id="2-3-回溯算法流程图"><a href="#2-3-回溯算法流程图" class="headerlink" title="2.3 回溯算法流程图"></a><strong>2.3 回溯算法流程图</strong></h3><p>根据以上信息，该算法的流程图如下图 2 所示：</p>
  <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps3.jpg"> </div>
<center>(图2)</center> 

<h3 id="2-4-回溯算法设计思路"><a href="#2-4-回溯算法设计思路" class="headerlink" title="2.4 回溯算法设计思路"></a><strong>2.4 回溯算法设计思路</strong></h3><p>根据上图的流程图步骤设计算法。</p>
<p>首先初始化图，先生成一个全连接图，然后随机生成删除一些边</p>
<p>再需要先检查该图是否能构成回路，即没有孤立节点，每个节点至少有两个出度。</p>
<p>然后进行通过深度优先的方式进行回溯，将符合的节点顺序保存在集合中</p>
<p>最后打印集合以及对应图像</p>
<h3 id="2-5-回溯算法代码"><a href="#2-5-回溯算法代码" class="headerlink" title="2.5 回溯算法代码"></a><strong>2.5 回溯算法代码</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="keyword">import</span> queue</span><br><span class="line"><span class="number">2.</span><span class="keyword">import</span> random</span><br><span class="line"><span class="number">3.</span><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"><span class="number">4.</span><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="number">5.</span></span><br><span class="line"><span class="number">6.</span><span class="keyword">from</span> class1.Hamilton.util <span class="keyword">import</span> generate_random_graph, draw, draw_hamiltonian</span><br><span class="line"><span class="number">7.</span></span><br><span class="line"><span class="number">8.</span></span><br><span class="line"><span class="number">9.</span><span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">node, node_visited, adj_list, node_set,target</span>):</span><br><span class="line"><span class="number">10.</span>    <span class="keyword">if</span> node_visited[node]:</span><br><span class="line"><span class="number">11.</span>        <span class="keyword">return</span> node_set</span><br><span class="line"><span class="number">12.</span>    node_visited[node] = <span class="literal">True</span></span><br><span class="line"><span class="number">13.</span>    node_set.append(node)</span><br><span class="line"><span class="number">14.</span>    <span class="keyword">if</span> node == target:</span><br><span class="line"><span class="number">15.</span>        <span class="keyword">if</span> <span class="literal">False</span> <span class="keyword">not</span> <span class="keyword">in</span> node_visited.values():</span><br><span class="line"><span class="number">16.</span>            ans.append(node_set.copy())</span><br><span class="line"><span class="number">17.</span>        node_set.pop()</span><br><span class="line"><span class="number">18.</span>        node_visited[node] = <span class="literal">False</span></span><br><span class="line"><span class="number">19.</span>        <span class="keyword">return</span></span><br><span class="line"><span class="number">20.</span>    <span class="keyword">for</span> n <span class="keyword">in</span> adj_list[node]:</span><br><span class="line"><span class="number">21.</span>        dfs(n,node_visited,adj_list,node_set,target)</span><br><span class="line"><span class="number">22.</span>    node_set.pop()</span><br><span class="line"><span class="number">23.</span>    node_visited[node] = <span class="literal">False</span></span><br><span class="line"><span class="number">24.</span></span><br><span class="line"><span class="number">25.</span></span><br><span class="line"><span class="number">26.</span>ans = []</span><br><span class="line"><span class="number">27.</span><span class="keyword">def</span> <span class="title function_">hamiltonian_cycle</span>(<span class="params">adj_list</span>):</span><br><span class="line"><span class="number">28.</span>    node_set = []</span><br><span class="line"><span class="number">29.</span>    node_visited = &#123;&#125;</span><br><span class="line"><span class="number">30.</span>    node_list = <span class="built_in">set</span>(adj_list.keys())</span><br><span class="line"><span class="number">31.</span>    first_node = <span class="built_in">next</span>(<span class="built_in">iter</span>(adj_list))</span><br><span class="line"><span class="number">32.</span>    <span class="keyword">for</span> node <span class="keyword">in</span> node_list:</span><br><span class="line"><span class="number">33.</span>        node_visited[node] = <span class="literal">False</span></span><br><span class="line"><span class="number">34.</span>    <span class="keyword">for</span> node <span class="keyword">in</span> adj_list[first_node]:</span><br><span class="line"><span class="number">35.</span>        dfs(node,node_visited,adj_list,node_set,first_node)</span><br><span class="line"><span class="number">36.</span>    <span class="keyword">return</span> ans</span><br><span class="line"><span class="number">37.</span></span><br><span class="line"><span class="number">38.</span><span class="keyword">def</span> <span class="title function_">is_connected_graph</span>(<span class="params">adjacency_list</span>):</span><br><span class="line"><span class="number">39.</span>    point = <span class="built_in">set</span>()</span><br><span class="line"><span class="number">40.</span>    node_list = <span class="built_in">list</span>(adjacency_list.keys())</span><br><span class="line"><span class="number">41.</span>    q = queue.Queue()</span><br><span class="line"><span class="number">42.</span>    q.put(node_list[<span class="number">0</span>])</span><br><span class="line"><span class="number">43.</span>    <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</span><br><span class="line"><span class="number">44.</span>        node = q.get()</span><br><span class="line"><span class="number">45.</span>        <span class="keyword">if</span> node <span class="keyword">not</span> <span class="keyword">in</span> point:</span><br><span class="line"><span class="number">46.</span>            point.add(node)</span><br><span class="line"><span class="number">47.</span>            edge = adjacency_list[node]</span><br><span class="line"><span class="number">48.</span>            <span class="keyword">for</span> e <span class="keyword">in</span> edge:</span><br><span class="line"><span class="number">49.</span>                q.put(e)</span><br><span class="line"><span class="number">50.</span>    <span class="keyword">return</span> <span class="built_in">set</span>(node_list).difference(point).__len__() == <span class="number">0</span></span><br><span class="line"><span class="number">51.</span></span><br><span class="line"><span class="number">52.</span><span class="keyword">def</span> <span class="title function_">is_tow_out_degree</span>(<span class="params">adjacency_list</span>):</span><br><span class="line"><span class="number">53.</span>    <span class="keyword">for</span> v,k <span class="keyword">in</span> adjacency_list.items():</span><br><span class="line"><span class="number">54.</span>        <span class="keyword">if</span> <span class="built_in">len</span>(k)&lt;<span class="number">2</span>:</span><br><span class="line"><span class="number">55.</span>            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="number">56.</span>    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="number">57.</span></span><br><span class="line"><span class="number">58.</span><span class="keyword">def</span> <span class="title function_">create_adjacency_list</span>(<span class="params">edges</span>):</span><br><span class="line"><span class="number">59.</span>    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">60.    将边集转换成邻接表</span></span><br><span class="line"><span class="string">61.    &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="number">62.</span>    adjacency_list = &#123;&#125;</span><br><span class="line"><span class="number">63.</span>    <span class="keyword">for</span> edge <span class="keyword">in</span> edges:</span><br><span class="line"><span class="number">64.</span>        <span class="keyword">if</span> edge[<span class="number">0</span>] <span class="keyword">in</span> adjacency_list:</span><br><span class="line"><span class="number">65.</span>            adjacency_list[edge[<span class="number">0</span>]].append(edge[<span class="number">1</span>])</span><br><span class="line"><span class="number">66.</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">67.</span>            adjacency_list[edge[<span class="number">0</span>]] = [edge[<span class="number">1</span>]]</span><br><span class="line"><span class="number">68.</span>        <span class="keyword">if</span> edge[<span class="number">1</span>] <span class="keyword">in</span> adjacency_list:</span><br><span class="line"><span class="number">69.</span>            adjacency_list[edge[<span class="number">1</span>]].append(edge[<span class="number">0</span>])</span><br><span class="line"><span class="number">70.</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">71.</span>            adjacency_list[edge[<span class="number">1</span>]] = [edge[<span class="number">0</span>]]</span><br><span class="line"><span class="number">72.</span>    <span class="keyword">return</span> adjacency_list</span><br><span class="line"><span class="number">73.</span></span><br><span class="line"><span class="number">74.</span></span><br><span class="line"><span class="number">75.</span></span><br><span class="line"><span class="number">76.</span></span><br><span class="line"><span class="number">77.</span><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="number">78.</span>    <span class="comment"># edges = [(0, 1), (0, 7), (1, 2), (1, 6), (2, 3), (2, 5), (3, 4), (4, 13), (5, 12), (6, 11), (7, 8), (7, 9),</span></span><br><span class="line"><span class="number">79.</span>    <span class="comment">#          (8, 9),(9, 10), (10, 11), (10, 16), (11, 12), (12, 13), (13, 14), (14, 15), (14, 19), (15, 16),</span></span><br><span class="line"><span class="number">80.</span>    <span class="comment">#          (15, 18),(16, 17), (17, 18), (18, 19)]</span></span><br><span class="line"><span class="number">81.</span>    edges = [(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,<span class="number">2</span>),(<span class="number">0</span>,<span class="number">3</span>),(<span class="number">2</span>,<span class="number">1</span>),(<span class="number">3</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="number">82.</span>    <span class="comment">#edges = generate_random_graph(20, 50)</span></span><br><span class="line"><span class="number">83.</span></span><br><span class="line"><span class="number">84.</span>    adjacency_list = create_adjacency_list(edges)</span><br><span class="line"><span class="number">85.</span>    <span class="built_in">print</span>(adjacency_list)</span><br><span class="line"><span class="number">86.</span>    draw(edges)</span><br><span class="line"><span class="number">87.</span>    <span class="keyword">if</span> is_connected_graph(adjacency_list) <span class="keyword">and</span> is_tow_out_degree(adjacency_list):</span><br><span class="line"><span class="number">88.</span>        hamiltonian = hamiltonian_cycle(adjacency_list)</span><br><span class="line"><span class="number">89.</span>        n = <span class="number">0</span></span><br><span class="line"><span class="number">90.</span>        <span class="keyword">for</span> item <span class="keyword">in</span> hamiltonian:</span><br><span class="line"><span class="number">91.</span>            <span class="keyword">if</span> n&lt;<span class="number">6</span>:</span><br><span class="line"><span class="number">92.</span>                n+=<span class="number">1</span></span><br><span class="line"><span class="number">93.</span>                <span class="built_in">print</span>(item)</span><br><span class="line"><span class="number">94.</span>                draw_hamiltonian(edges,item)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="2-6-动态规划运行结果"><a href="#2-6-动态规划运行结果" class="headerlink" title="2.6 动态规划运行结果"></a><strong>2.6 动态规划运行结果</strong></h3> <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps4.jpg"> </div>
 <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps5.jpg"> </div>
<center>(图3)</center> 

 

<p>其他测试案例：</p>
<p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps6.jpg" alt="img"><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps7.jpg" alt="img"><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps8.jpg" alt="img"> </p>
<h2 id="三、遗传算法"><a href="#三、遗传算法" class="headerlink" title="三、遗传算法"></a>三、<strong>遗传算法</strong></h2><h3 id="3-1-遗传算法介绍"><a href="#3-1-遗传算法介绍" class="headerlink" title="3.1 遗传算法介绍"></a><strong>3.1 遗传算法介绍</strong></h3><p>遗传算法（genetic algorithm，GA）是一种模拟进化算法，它利用生物进化的自然规律，模拟生物群体遗传变异、自然选择等过程，以求解优化问题。</p>
<p>在遗传算法中，一个问题的解被编码为某种类型的数据结构，称为染色体（chromosome）或基因型，这是一种表示可行解的方法。通常，染色体由若干个基因（基本单位）组成，每个基因代表解的一个特征或参数。这样，染色体上的每个基因都可以看作是一组决策变量。</p>
<p>遗传算法的一般求解流程包括：初始化种群、评估种群的适应度、选择优秀个体、交叉和变异操作生成新个体、用新种群替换原种群，循环执行这些步骤直到满足终止条件。其中，适应度函数用于评估每个个体的适应度值，该值一般与问题的优化目标相关，如最小化或最大化某一目标函数。选择操作按照适应度函数的值，对种群中的个体进行挑选，使优秀个体有更大的生存机会。交叉和变异操作通过随机调整个体的基因，增加种群的多样性，防止陷入局部最优解。</p>
<p>遗传算法被广泛应用于各种优化问题的求解，如函数最优化、组合优化、机器学习、智能优化控制等。</p>
<h3 id="3-2-遗传算法流程图"><a href="#3-2-遗传算法流程图" class="headerlink" title="3.2 遗传算法流程图"></a><strong>3.2 遗传算法流程图</strong></h3> <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps9.jpg"> </div> 

 

<h3 id="3-3-遗传算法的实现"><a href="#3-3-遗传算法的实现" class="headerlink" title="3.3 遗传算法的实现"></a><strong>3.3 遗传算法的实现</strong></h3><p>该算法是参考旅行商问题，所有接下来会用城市来描述节点</p>
<h4 id="1-初始化种群："><a href="#1-初始化种群：" class="headerlink" title="1. 初始化种群："></a><strong>1.</strong> <strong>初始化种群：</strong></h4><p>l <strong>初始化初始化并种群的基本参数</strong></p>
<p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps10.jpg" alt="img"> </p>
<p>其中包括设定了种群的数目大小，citynum&#x3D;20，也就是说这个哈密顿回路问题需要走过20个城市，坐标的大小范围在0-100之间是为了方便绘图，迭代次数为100，交叉概率pc以及变异概率pm，当两点之间没有边时，距离设置为max_distance，有边时，设置为1。</p>
<p>l <strong>随机产生初始化群体的坐标位置<strong><strong>和边</strong></strong>以及计算<strong><strong>城市</strong></strong>之间的距离</strong></p>
<p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps11.jpg" alt="img"> </p>
<p> 在随机生成的边下，通过邻接表，依次为0-20个城市计算距离若是两个城市间有一条道路（边），则距离为1，否则为max_distance(100)。</p>
<h4 id="2-计算适应度"><a href="#2-计算适应度" class="headerlink" title="2. 计算适应度"></a><strong>2.</strong> <strong>计算适应度</strong></h4><p>从第一个城市开始对进行解码，通过calFitness函数得到计算路径距离矩阵</p>
 <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps12.jpg"> </div>
<center>图 4 计算线路距离矩阵</center>



<p>在主函数中再进行适应度的计算，通过贪婪策略，逐次的遍历，从0到popsize也就是100，输入pops[i]以及dis_matrix得到100次每个城市的fits。在其中找到最小的解，保留最优的解，也就是最好的适应度，并输出初代最优值。</p>
  <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps13.jpg"> </div>
<center>图 5 计算适应度</center>

<h4 id="3-选择操作"><a href="#3-选择操作" class="headerlink" title="3. 选择操作"></a><strong>3.</strong> <strong>选择操作</strong></h4><p>选择算子可视为模拟自然选择的一个自然界选择的一个人工版，体现了进化论中的“优胜劣汰”的思想，其执行主要依赖于个体的适应度。在遗传算法在这里的选择中有轮盘赌选择，随机遍历抽样，局部选择，截断选择以及锦标赛选择。其中最常用的是轮盘赌选择，以及锦标赛选择这两种选择操作。在这里使用的是锦标赛选择算法。参考课本以及代码，可以总结出，锦标赛方法选择策略每次从种群中取出一定数量个体，然后选择其中最好的一个进入子代种群。重复该操作，直到新的种群规模达到原来的种群规模。联赛选择的执行过程如下:</p>
<p><em><strong>*步骤1*</strong></em> 从群体中随机选择M个个体，计算每个个体的目标函数值;</p>
<p><em><strong>*步骤2*</strong></em> 根据每个个体的目标函数值，计算其适应度; </p>
<p><em><strong>*步骤3*</strong></em> 选择适应度最大的个体。</p>
<p>类似于赌轮选择，联赛选择每执行一次仅选择-一个个体。联赛选择的执行过程相对比较简单,但是需要定义一个额外的参数M。实际上,M决定了群体的选择压。</p>
<p>在这里M就是之前定义过的锦标赛小组大小tournament_size &#x3D; 5。</p>
   <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps14.jpg"> </div>
<center>图 6锦标赛选择算子</center>

 

<h4 id="4-交叉操作"><a href="#4-交叉操作" class="headerlink" title="4. 交叉操作"></a><strong>4.</strong> <strong>交叉操作</strong></h4><p>通过交叉算子来维持种群的多样性，应该说交叉算子是遗传算法中最重要的操作，也是遗传算法区别于其他算法之。所在针对不同的优化问题，有多种不同的交叉算子，例如，单点交叉，两点交叉，顺序交叉等。在这里使用的是顺序交叉的算法。</p>
<p>顺序交叉：</p>
<p>在两个父代染色体中随机选择起始和结束位置，将父代染色体1该区域内的基因复制到子代1相同位置上，再在父代染色体2上将子代1中缺少的基因按照顺序填入。另一个子代以类似方式得到。</p>
<p>​    假设两个父代：A&#x3D;764235801，B&#x3D;073684152</p>
<p>查找交换基因，（交叉位同样选第四位和第七位）比如A当中235要用684去换，B中的684要用235换，那么将A中的684和B中的235都换成,得到A’&#x3D;7HH235H01,B’&#x3D;07H6841HH,然后将H都移到交叉位里面，将原来交叉位里面的数字都左移到最左边。再将H替换，上面的H用684换，下面的H用235换。最后顺序交叉的结果为A’’’&#x3D;135|684|017,B’’’&#x3D;684|235|107</p>
<div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps15.jpg"> </div>
<center>图 7  顺序交叉算子</center>

<p>在这里先初始化孩子，父母两个。</p>
<p>随机在[0,1]之间生成一个均匀分布的随机数rand。如果rand&gt;&#x3D;设定的交叉概率pc，则孩子保留父代中的一个。否则先使child复制parent1，再通过顺序交叉与parent2不断交叉并更新自己。</p>
<h4 id="5-变异操作"><a href="#5-变异操作" class="headerlink" title="5. 变异操作"></a><strong>5.</strong> <strong>变异操作</strong></h4><p>遗传算法的变异算子旨在模仿生物界的基因突变过程。变异算子对执行完交叉操作后的群体中的每个个体以概率pm执行变异操作。在这里的变异操作使用的是，基本位变异算子。</p>
<p>基本位变异算子是最简单和最基本的变异操作算子。对于基本遗传算法中用二进制编码符号串所表示的个体，若需要进行变异操作的某一基因座上的原有基因值为0，则变异操作将该基因值变为1；反之，若原有基因值为1，则变异操作将其变为0。</p>
<p>基本位变异算子的具体执行过程如下：</p>
<p>(1)对个体的每一个基因座，依变异概率Pm指定其为变异点；</p>
<p>(2)对每一个指定的变异点，对其基因值做取反运算或用其他等位基因值来代替，从而产生出一个新的个体；</p>
 <div align="center"> <img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps15.jpg"> </div>
<center>图 8 变异操作</center>

<p>首先对每一个个体的i个二进制位，在[0,1]之间随机产生l个均匀分布的随机数,记为rand…,randi。 如果randi;&lt;pm(i∈{1,2,…,l}),则对第t个二进制位执行取反操作mut_pos1与mut_pos2进行交换数。每次都加入至pops_mutate[]数组中。</p>
<h4 id="6-是否满足条件"><a href="#6-是否满足条件" class="headerlink" title="6. 是否满足条件"></a><strong>6.</strong> <strong>是否满足条件</strong></h4><p><strong>经</strong>过了计算适应度，锦标赛选择算子，交叉算子，变异算子后还满足while iteration &lt;&#x3D; generation的条件。符合条件即可成功的跳出while循环，输出路径图。</p>
<p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps17.jpg" alt="img"> </p>
<p> 图 9是否满足条件</p>
<h3 id="3-4-遗传算法代码"><a href="#3-4-遗传算法代码" class="headerlink" title="3.4 遗传算法代码"></a><strong>3.4 遗传算法代码</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="keyword">import</span> math</span><br><span class="line"><span class="number">2.</span><span class="keyword">import</span> random</span><br><span class="line"><span class="number">3.</span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="number">4.</span><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="number">5.</span><span class="keyword">from</span> matplotlib.pylab <span class="keyword">import</span> mpl</span><br><span class="line"><span class="number">6.</span></span><br><span class="line"><span class="number">7.</span><span class="keyword">from</span> class1.Hamilton.util <span class="keyword">import</span> generate_random_graph, create_adjacency_list</span><br><span class="line"><span class="number">8.</span></span><br><span class="line"><span class="number">9.</span><span class="comment"># 添加这条可以让图形显示中文，字体显示为黑体</span></span><br><span class="line"><span class="number">10.</span>mpl.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"><span class="number">11.</span></span><br><span class="line"><span class="number">12.</span></span><br><span class="line"><span class="number">13.</span></span><br><span class="line"><span class="number">14.</span></span><br><span class="line"><span class="number">15.</span><span class="comment"># 适应度的计算</span></span><br><span class="line"><span class="number">16.</span><span class="keyword">def</span> <span class="title function_">calFitness</span>(<span class="params">line, dis_matrix</span>):</span><br><span class="line"><span class="number">17.</span>    <span class="comment"># 贪婪策略得到距离矩阵（解码过程）</span></span><br><span class="line"><span class="number">18.</span>    <span class="comment"># 计算路径距离（评价函数）</span></span><br><span class="line"><span class="number">19.</span>    dis_sum = <span class="number">0</span>  <span class="comment"># 路线距离</span></span><br><span class="line"><span class="number">20.</span>    dis = <span class="number">0</span></span><br><span class="line"><span class="number">21.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(line)):</span><br><span class="line"><span class="number">22.</span>        <span class="keyword">if</span> i &lt; <span class="built_in">len</span>(line) - <span class="number">1</span>:</span><br><span class="line"><span class="number">23.</span>            <span class="comment"># 依次计录一个数以及下一个数的距离，存入城市间的距离矩阵</span></span><br><span class="line"><span class="number">24.</span>            dis = dis_matrix.loc[line[i], line[i + <span class="number">1</span>]]</span><br><span class="line"><span class="number">25.</span>            dis_sum = dis_sum + dis</span><br><span class="line"><span class="number">26.</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">27.</span>            <span class="comment"># 最后一个数，无下一个数的情况</span></span><br><span class="line"><span class="number">28.</span>            dis = dis_matrix.loc[line[i], line[<span class="number">0</span>]]</span><br><span class="line"><span class="number">29.</span>            dis_sum = dis_sum + dis</span><br><span class="line"><span class="number">30.</span>    <span class="comment"># 返回城市间的路线距离矩阵</span></span><br><span class="line"><span class="number">31.</span>    <span class="keyword">return</span> <span class="built_in">round</span>(dis_sum, <span class="number">1</span>)</span><br><span class="line"><span class="number">32.</span></span><br><span class="line"><span class="number">33.</span></span><br><span class="line"><span class="number">34.</span><span class="comment"># 联赛选择算子</span></span><br><span class="line"><span class="number">35.</span><span class="keyword">def</span> <span class="title function_">tournament_select</span>(<span class="params">pops, popsize, fits, tournament_size</span>):</span><br><span class="line"><span class="number">36.</span>    new_pops, new_fits = [], []</span><br><span class="line"><span class="number">37.</span>    <span class="comment"># 步骤1 从群体中随机选择M个个体，计算每个个体的目标函数值</span></span><br><span class="line"><span class="number">38.</span>    <span class="keyword">while</span> <span class="built_in">len</span>(new_pops) &lt; <span class="built_in">len</span>(pops):</span><br><span class="line"><span class="number">39.</span>        tournament_list = random.sample(<span class="built_in">range</span>(<span class="number">0</span>, popsize), tournament_size)</span><br><span class="line"><span class="number">40.</span>        tournament_fit = [fits[i] <span class="keyword">for</span> i <span class="keyword">in</span> tournament_list]</span><br><span class="line"><span class="number">41.</span>        <span class="comment"># 转化为df方便索引</span></span><br><span class="line"><span class="number">42.</span>        tournament_df = pd.DataFrame \</span><br><span class="line"><span class="number">43.</span>            ([tournament_list, tournament_fit]).transpose().sort_values(by=<span class="number">1</span>).reset_index(drop=<span class="literal">True</span>)</span><br><span class="line"><span class="number">44.</span>        <span class="comment"># 步骤2 根据每个个体的目标函数值，计算其适应度</span></span><br><span class="line"><span class="number">45.</span>        fit = tournament_df.iloc[<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"><span class="number">46.</span>        pop = pops[<span class="built_in">int</span>(tournament_df.iloc[<span class="number">0</span>, <span class="number">0</span>])]</span><br><span class="line"><span class="number">47.</span>        <span class="comment"># 步骤3 选择适应度最大的个体</span></span><br><span class="line"><span class="number">48.</span>        new_pops.append(pop)</span><br><span class="line"><span class="number">49.</span>        new_fits.append(fit)</span><br><span class="line"><span class="number">50.</span>    <span class="keyword">return</span> new_pops, new_fits</span><br><span class="line"><span class="number">51.</span></span><br><span class="line"><span class="number">52.</span></span><br><span class="line"><span class="number">53.</span><span class="comment"># 交叉算子</span></span><br><span class="line"><span class="number">54.</span><span class="keyword">def</span> <span class="title function_">crossover</span>(<span class="params">popsize, parent1_pops, parent2_pops, pc</span>):</span><br><span class="line"><span class="number">55.</span>    child_pops = []</span><br><span class="line"><span class="number">56.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(popsize):</span><br><span class="line"><span class="number">57.</span>        <span class="comment"># 初始化</span></span><br><span class="line"><span class="number">58.</span>        child = [<span class="literal">None</span>] * <span class="built_in">len</span>(parent1_pops[i])</span><br><span class="line"><span class="number">59.</span>        parent1 = parent1_pops[i]</span><br><span class="line"><span class="number">60.</span>        parent2 = parent2_pops[i]</span><br><span class="line"><span class="number">61.</span>        <span class="keyword">if</span> random.random() &gt;= pc:</span><br><span class="line"><span class="number">62.</span>            child = parent1.copy()  <span class="comment"># 随机生成一个（或者随机保留父代中的一个）</span></span><br><span class="line"><span class="number">63.</span>            random.shuffle(child)</span><br><span class="line"><span class="number">64.</span>        <span class="keyword">else</span>:</span><br><span class="line"><span class="number">65.</span>            <span class="comment"># parent1</span></span><br><span class="line"><span class="number">66.</span>            start_pos = random.randint(<span class="number">0</span>, <span class="built_in">len</span>(parent1) - <span class="number">1</span>)</span><br><span class="line"><span class="number">67.</span>            end_pos = random.randint(<span class="number">0</span>, <span class="built_in">len</span>(parent1) - <span class="number">1</span>)</span><br><span class="line"><span class="number">68.</span>            <span class="keyword">if</span> start_pos &gt; end_pos:</span><br><span class="line"><span class="number">69.</span>                tem_pop = start_pos</span><br><span class="line"><span class="number">70.</span>                start_pos = end_pos</span><br><span class="line"><span class="number">71.</span>                end_pos = tem_pop</span><br><span class="line"><span class="number">72.</span>            child[start_pos:end_pos + <span class="number">1</span>] = parent1[start_pos:end_pos + <span class="number">1</span>].copy()</span><br><span class="line"><span class="number">73.</span>            <span class="comment"># parent2 -&gt; child</span></span><br><span class="line"><span class="number">74.</span>            list1 = <span class="built_in">list</span>(<span class="built_in">range</span>(end_pos + <span class="number">1</span>, <span class="built_in">len</span>(parent2)))</span><br><span class="line"><span class="number">75.</span>            list2 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, start_pos))</span><br><span class="line"><span class="number">76.</span>            list_index = list1 + list2</span><br><span class="line"><span class="number">77.</span>            j = -<span class="number">1</span></span><br><span class="line"><span class="number">78.</span>            <span class="keyword">for</span> i <span class="keyword">in</span> list_index:</span><br><span class="line"><span class="number">79.</span>                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(j + <span class="number">1</span>, <span class="built_in">len</span>(parent2)):</span><br><span class="line"><span class="number">80.</span>                    <span class="keyword">if</span> parent2[j] <span class="keyword">not</span> <span class="keyword">in</span> child:</span><br><span class="line"><span class="number">81.</span>                        child[i] = parent2[j]</span><br><span class="line"><span class="number">82.</span>                        <span class="keyword">break</span></span><br><span class="line"><span class="number">83.</span>        child_pops.append(child)</span><br><span class="line"><span class="number">84.</span>    <span class="keyword">return</span> child_pops</span><br><span class="line"><span class="number">85.</span></span><br><span class="line"><span class="number">86.</span></span><br><span class="line"><span class="number">87.</span><span class="comment"># 变异操作</span></span><br><span class="line"><span class="number">88.</span><span class="keyword">def</span> <span class="title function_">mutate</span>(<span class="params">pops, pm</span>):</span><br><span class="line"><span class="number">89.</span>    pops_mutate = []</span><br><span class="line"><span class="number">90.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(pops)):</span><br><span class="line"><span class="number">91.</span>        pop = pops[i].copy()</span><br><span class="line"><span class="number">92.</span>        <span class="comment"># 随机多次成对变异</span></span><br><span class="line"><span class="number">93.</span>        <span class="comment"># 随机选出两个位置进行交换</span></span><br><span class="line"><span class="number">94.</span>        t = random.randint(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="number">95.</span>        count = <span class="number">0</span></span><br><span class="line"><span class="number">96.</span>        <span class="keyword">while</span> count &lt; t:</span><br><span class="line"><span class="number">97.</span>            <span class="keyword">if</span> random.random() &lt; pm:</span><br><span class="line"><span class="number">98.</span>                mut_pos1 = random.randint(<span class="number">0</span>, <span class="built_in">len</span>(pop) - <span class="number">1</span>)</span><br><span class="line"><span class="number">99.</span>                mut_pos2 = random.randint(<span class="number">0</span>, <span class="built_in">len</span>(pop) - <span class="number">1</span>)</span><br><span class="line"><span class="number">100.</span>                <span class="comment"># 如果不相等则进行取反的操作，这里使用交换</span></span><br><span class="line"><span class="number">101.</span>                <span class="keyword">if</span> mut_pos1 != mut_pos2:</span><br><span class="line"><span class="number">102.</span>                    tem = pop[mut_pos1]</span><br><span class="line"><span class="number">103.</span>                    pop[mut_pos1] = pop[mut_pos2]</span><br><span class="line"><span class="number">104.</span>                    pop[mut_pos2] = tem</span><br><span class="line"><span class="number">105.</span>            pops_mutate.append(pop)</span><br><span class="line"><span class="number">106.</span>            count += <span class="number">1</span></span><br><span class="line"><span class="number">107.</span>    <span class="keyword">return</span> pops_mutate</span><br><span class="line"><span class="number">108.</span></span><br><span class="line"><span class="number">109.</span></span><br><span class="line"><span class="number">110.</span><span class="comment"># 画路径图</span></span><br><span class="line"><span class="number">111.</span><span class="keyword">def</span> <span class="title function_">draw_path</span>(<span class="params">line, CityCoordinates</span>):</span><br><span class="line"><span class="number">112.</span>    x, y = [], []</span><br><span class="line"><span class="number">113.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> line:</span><br><span class="line"><span class="number">114.</span>        Coordinate = CityCoordinates[i]</span><br><span class="line"><span class="number">115.</span>        x.append(Coordinate[<span class="number">0</span>])</span><br><span class="line"><span class="number">116.</span>        y.append(Coordinate[<span class="number">1</span>])</span><br><span class="line"><span class="number">117.</span>    x.append(x[<span class="number">0</span>])</span><br><span class="line"><span class="number">118.</span>    y.append(y[<span class="number">0</span>])</span><br><span class="line"><span class="number">119.</span>    plt.plot(x, y, <span class="string">&#x27;r-&#x27;</span>, color=<span class="string">&#x27;#FF3030&#x27;</span>, alpha=<span class="number">0.8</span>, linewidth=<span class="number">2.2</span>)</span><br><span class="line"><span class="number">120.</span>    plt.xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line"><span class="number">121.</span>    plt.ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line"><span class="number">122.</span>    plt.show()</span><br><span class="line"><span class="number">123.</span></span><br><span class="line"><span class="number">124.</span></span><br><span class="line"><span class="number">125.</span><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="number">126.</span>    <span class="comment"># 参数</span></span><br><span class="line"><span class="number">127.</span>    CityNum = <span class="number">20</span>  <span class="comment"># jie数量</span></span><br><span class="line"><span class="number">128.</span>    MinCoordinate = <span class="number">0</span>  <span class="comment"># 二维坐标最小值</span></span><br><span class="line"><span class="number">129.</span>    MaxCoordinate = <span class="number">101</span>  <span class="comment"># 二维坐标最大值</span></span><br><span class="line"><span class="number">130.</span>    <span class="comment"># GA参数</span></span><br><span class="line"><span class="number">131.</span>    generation = <span class="number">100</span>  <span class="comment"># 迭代次数</span></span><br><span class="line"><span class="number">132.</span>    popsize = <span class="number">100</span>  <span class="comment"># 种群大小</span></span><br><span class="line"><span class="number">133.</span>    tournament_size = <span class="number">5</span>  <span class="comment"># 锦标赛小组大小</span></span><br><span class="line"><span class="number">134.</span>    pc = <span class="number">0.9</span>  <span class="comment"># 交叉概率</span></span><br><span class="line"><span class="number">135.</span>    pm = <span class="number">0.3</span>  <span class="comment"># 变异概率</span></span><br><span class="line"><span class="number">136.</span>    max_distance = <span class="number">100</span> <span class="comment"># 默认最大距离</span></span><br><span class="line"><span class="number">137.</span></span><br><span class="line"><span class="number">138.</span>    <span class="comment"># 随机生成城市的坐标,城市序号为0,1,2,3...直到CityNum的数目20</span></span><br><span class="line"><span class="number">139.</span>    CityCoordinates = \</span><br><span class="line"><span class="number">140.</span>        [(random.randint(MinCoordinate, MaxCoordinate), random.randint(MinCoordinate, MaxCoordinate)) <span class="keyword">for</span></span><br><span class="line"><span class="number">141.</span>         i <span class="keyword">in</span> <span class="built_in">range</span>(CityNum)]</span><br><span class="line"><span class="number">142.</span>    <span class="comment"># 随机生成城市之间的道路，若是两个城市间有一条道路（边），则距离为1，否则为max_distance(100)</span></span><br><span class="line"><span class="number">143.</span>    edges = generate_random_graph(<span class="number">20</span>, <span class="number">50</span>)</span><br><span class="line"><span class="number">144.</span>    adjacency_list = create_adjacency_list(edges)</span><br><span class="line"><span class="number">145.</span>    <span class="comment"># 计算城市之间的距离</span></span><br><span class="line"><span class="number">146.</span>    dis_matrix = \</span><br><span class="line"><span class="number">147.</span>        pd.DataFrame(data=<span class="literal">None</span>, columns=<span class="built_in">range</span>(<span class="built_in">len</span>(CityCoordinates)), index=<span class="built_in">range</span>(<span class="built_in">len</span>(CityCoordinates)))</span><br><span class="line"><span class="number">148.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(CityCoordinates)):</span><br><span class="line"><span class="number">149.</span>        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(CityCoordinates)):</span><br><span class="line"><span class="number">150.</span>            <span class="keyword">if</span> j <span class="keyword">in</span> adjacency_list[i]:</span><br><span class="line"><span class="number">151.</span>                dis_matrix.iloc[i, j] = <span class="number">1</span></span><br><span class="line"><span class="number">152.</span>            <span class="keyword">else</span>:</span><br><span class="line"><span class="number">153.</span>                dis_matrix.iloc[i, j] = max_distance</span><br><span class="line"><span class="number">154.</span>    <span class="built_in">print</span>(dis_matrix)</span><br><span class="line"><span class="number">155.</span>    iteration = <span class="number">0</span></span><br><span class="line"><span class="number">156.</span>    <span class="comment"># 初始化,随机构造</span></span><br><span class="line"><span class="number">157.</span>    pops = \</span><br><span class="line"><span class="number">158.</span>        [random.sample([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="built_in">len</span>(CityCoordinates)))], <span class="built_in">len</span>(CityCoordinates)) <span class="keyword">for</span></span><br><span class="line"><span class="number">159.</span>         j <span class="keyword">in</span> <span class="built_in">range</span>(popsize)]</span><br><span class="line"><span class="number">160.</span>    <span class="comment"># 画出随机得到的城市连接图</span></span><br><span class="line"><span class="number">161.</span>    draw_path(pops[i], CityCoordinates)</span><br><span class="line"><span class="number">162.</span>    <span class="comment"># 计算适应度</span></span><br><span class="line"><span class="number">163.</span>    fits = [<span class="literal">None</span>] * popsize</span><br><span class="line"><span class="number">164.</span>    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(popsize):</span><br><span class="line"><span class="number">165.</span>        fits[i] = calFitness(pops[i], dis_matrix)</span><br><span class="line"><span class="number">166.</span>    <span class="comment"># 保留当前最优,最小的fits为最优解</span></span><br><span class="line"><span class="number">167.</span>    best_fit = <span class="built_in">min</span>(fits)</span><br><span class="line"><span class="number">168.</span>    best_pop = pops[fits.index(best_fit)]</span><br><span class="line"><span class="number">169.</span></span><br><span class="line"><span class="number">170.</span>    <span class="built_in">print</span>(<span class="string">&#x27;初代最优值 %.1f&#x27;</span> % (best_fit))</span><br><span class="line"><span class="number">171.</span>    best_fit_list = []</span><br><span class="line"><span class="number">172.</span>    best_fit_list.append(best_fit)</span><br><span class="line"><span class="number">173.</span></span><br><span class="line"><span class="number">174.</span>    <span class="keyword">while</span> iteration &lt;= generation:</span><br><span class="line"><span class="number">175.</span>        <span class="comment"># 锦标赛赛选择</span></span><br><span class="line"><span class="number">176.</span>        pop1, fits1 = tournament_select(pops, popsize, fits, tournament_size)</span><br><span class="line"><span class="number">177.</span>        pop2, fits2 = tournament_select(pops, popsize, fits, tournament_size)</span><br><span class="line"><span class="number">178.</span>        <span class="comment"># 交叉</span></span><br><span class="line"><span class="number">179.</span>        child_pops = crossover(popsize, pop1, pop2, pc)</span><br><span class="line"><span class="number">180.</span>        <span class="comment"># 变异</span></span><br><span class="line"><span class="number">181.</span>        child_pops = mutate(child_pops, pm)</span><br><span class="line"><span class="number">182.</span>        <span class="comment"># 计算子代适应度</span></span><br><span class="line"><span class="number">183.</span>        child_fits = [<span class="literal">None</span>] * popsize</span><br><span class="line"><span class="number">184.</span>        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(popsize):</span><br><span class="line"><span class="number">185.</span>            child_fits[i] = calFitness(child_pops[i], dis_matrix)</span><br><span class="line"><span class="number">186.</span>            <span class="comment"># 一对一生存者竞争</span></span><br><span class="line"><span class="number">187.</span>        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(popsize):</span><br><span class="line"><span class="number">188.</span>            <span class="keyword">if</span> fits[i] &gt; child_fits[i]:</span><br><span class="line"><span class="number">189.</span>                fits[i] = child_fits[i]</span><br><span class="line"><span class="number">190.</span>                pops[i] = child_pops[i]</span><br><span class="line"><span class="number">191.</span></span><br><span class="line"><span class="number">192.</span>        <span class="keyword">if</span> best_fit &gt; <span class="built_in">min</span>(fits):</span><br><span class="line"><span class="number">193.</span>            best_fit = <span class="built_in">min</span>(fits)</span><br><span class="line"><span class="number">194.</span>            best_pop = pops[fits.index(best_fit)]</span><br><span class="line"><span class="number">195.</span></span><br><span class="line"><span class="number">196.</span>        best_fit_list.append(best_fit)</span><br><span class="line"><span class="number">197.</span></span><br><span class="line"><span class="number">198.</span>        <span class="built_in">print</span>(<span class="string">&#x27;第%d代最优值 %.1f&#x27;</span> % (iteration, best_fit))</span><br><span class="line"><span class="number">199.</span>        iteration += <span class="number">1</span></span><br><span class="line"><span class="number">200.</span></span><br><span class="line"><span class="number">201.</span>    <span class="comment"># 路径顺序</span></span><br><span class="line"><span class="number">202.</span>    <span class="built_in">print</span>(best_pop)</span><br><span class="line"><span class="number">203.</span></span><br><span class="line"><span class="number">204.</span>    draw_path(best_pop, CityCoordinates)</span><br><span class="line"><span class="number">205.</span></span><br></pre></td></tr></table></figure>



<h3 id="3-5-遗传算法运行结果"><a href="#3-5-遗传算法运行结果" class="headerlink" title="3.5 遗传算法运行结果"></a><strong>3.5 遗传算法运行结果</strong></h3><p><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps18.jpg" alt="img"><img src="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/wps19.jpg" alt="img"> </p>
<h3 id="3-6-遗传算法结果分析"><a href="#3-6-遗传算法结果分析" class="headerlink" title="3.6 遗传算法结果分析"></a><strong>3.6 遗传算法结果分析</strong></h3><p>改变迭代次数至 100，观察遗传算法过程.可以看出，迭代到 64 次左右时，最优路径为20，达到最优解。</p>
<h2 id="四、结果分析"><a href="#四、结果分析" class="headerlink" title="四、结果分析"></a>四、结果分析</h2><p>通过对比算法两个算法，在回溯算法中，能正确的得到图的所有哈密顿回路，在节点和边数量比较少时，具有较高的性能，但当节点数量增加时，计算的时间也会指数增长，而用遗传算法容易陷入局部最优解，而导致得不出正确的哈密顿回路</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">空城</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/">http://example.com/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">空城的贼窝</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a><a class="post-meta__tags" href="/tags/%E5%9B%BE%E8%AE%BA/">图论</a></div><div class="post_share"><div class="social-share" data-image="/img/1.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/03/%E7%A8%B3%E5%AE%9A%E5%A9%9A%E5%A7%BB%E7%AE%97%E6%B3%95/"><img class="prev-cover" src="/img/7.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">稳定婚姻算法</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/01/JAVA-LinkedList%E8%A7%A3%E6%9E%90/"><img class="next-cover" src="/img/8.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JAVA-LinkedList解析</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/07/27/%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BD%91%E7%BB%9C%E6%B5%81%E7%AE%97%E6%B3%95/" title="常见的网络流算法"><img class="cover" src="/img/6.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-27</div><div class="title">常见的网络流算法</div></div></a></div><div><a href="/2023/07/28/%E6%9C%80%E5%A4%A7%E6%B5%81%E9%97%AE%E9%A2%98/" title="最大流问题"><img class="cover" src="/img/6.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-28</div><div class="title">最大流问题</div></div></a></div><div><a href="/2023/07/28/%E5%9B%BE%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="图的基本概念和数据结构"><img class="cover" src="/img/5.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-28</div><div class="title">图的基本概念和数据结构</div></div></a></div><div><a href="/2023/07/31/%E5%9B%BE%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84%E5%92%8C%E6%9C%80%E7%9F%AD%E8%B7%AF%E2%80%98/" title="图中的路径和最短路‘"><img class="cover" src="/img/4.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-31</div><div class="title">图中的路径和最短路‘</div></div></a></div><div><a href="/2023/08/03/%E7%A8%B3%E5%AE%9A%E5%A9%9A%E5%A7%BB%E7%AE%97%E6%B3%95/" title="稳定婚姻算法"><img class="cover" src="/img/7.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-03</div><div class="title">稳定婚姻算法</div></div></a></div><div><a href="/2023/08/04/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" title="最小生成树"><img class="cover" src="/img/6.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-04</div><div class="title">最小生成树</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">空城</div><div class="author-info__description">不止生活，还有热爱</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/austin-2020" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1302943429@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">一、问题描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">二、回溯算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9B%9E%E6%BA%AF%E8%A7%84%E5%88%99%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 回溯规则介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%9B%9E%E6%BA%AF%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 回溯模型的建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 回溯算法流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 回溯算法设计思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E4%BB%A3%E7%A0%81"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 回溯算法代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 动态规划运行结果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">三、遗传算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 遗传算法介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 遗传算法流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 遗传算法的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96%E7%A7%8D%E7%BE%A4%EF%BC%9A"><span class="toc-number">3.3.1.</span> <span class="toc-text">1. 初始化种群：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%AE%A1%E7%AE%97%E9%80%82%E5%BA%94%E5%BA%A6"><span class="toc-number">3.3.2.</span> <span class="toc-text">2. 计算适应度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.3.</span> <span class="toc-text">3. 选择操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BA%A4%E5%8F%89%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.4.</span> <span class="toc-text">4. 交叉操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%8F%98%E5%BC%82%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.5.</span> <span class="toc-text">5. 变异操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%98%AF%E5%90%A6%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6"><span class="toc-number">3.3.6.</span> <span class="toc-text">6. 是否满足条件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E4%BB%A3%E7%A0%81"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 遗传算法代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 遗传算法运行结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 遗传算法结果分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90"><span class="toc-number">4.</span> <span class="toc-text">四、结果分析</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/10/30/TreeMap%E8%AF%A6%E8%A7%A3/" title="TreeMap详解"><img src="/img/3.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TreeMap详解"/></a><div class="content"><a class="title" href="/2023/10/30/TreeMap%E8%AF%A6%E8%A7%A3/" title="TreeMap详解">TreeMap详解</a><time datetime="2023-10-30T00:14:19.000Z" title="发表于 2023-10-30 08:14:19">2023-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/09/A-%E7%AE%97%E6%B3%95-%E5%AF%BB%E6%89%BE%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/" title="A*算法--寻找最短路径"><img src="/img/4.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="A*算法--寻找最短路径"/></a><div class="content"><a class="title" href="/2023/08/09/A-%E7%AE%97%E6%B3%95-%E5%AF%BB%E6%89%BE%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/" title="A*算法--寻找最短路径">A*算法--寻找最短路径</a><time datetime="2023-08-09T02:26:08.000Z" title="发表于 2023-08-09 10:26:08">2023-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/04/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" title="最小生成树"><img src="/img/6.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="最小生成树"/></a><div class="content"><a class="title" href="/2023/08/04/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" title="最小生成树">最小生成树</a><time datetime="2023-08-04T02:24:10.000Z" title="发表于 2023-08-04 10:24:10">2023-08-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/03/%E7%A8%B3%E5%AE%9A%E5%A9%9A%E5%A7%BB%E7%AE%97%E6%B3%95/" title="稳定婚姻算法"><img src="/img/7.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="稳定婚姻算法"/></a><div class="content"><a class="title" href="/2023/08/03/%E7%A8%B3%E5%AE%9A%E5%A9%9A%E5%A7%BB%E7%AE%97%E6%B3%95/" title="稳定婚姻算法">稳定婚姻算法</a><time datetime="2023-08-03T02:33:38.000Z" title="发表于 2023-08-03 10:33:38">2023-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/" title="哈密尔顿回路"><img src="/img/1.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="哈密尔顿回路"/></a><div class="content"><a class="title" href="/2023/08/02/%E5%93%88%E5%AF%86%E5%B0%94%E9%A1%BF%E5%9B%9E%E8%B7%AF/" title="哈密尔顿回路">哈密尔顿回路</a><time datetime="2023-08-02T07:54:39.000Z" title="发表于 2023-08-02 15:54:39">2023-08-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 空城</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>